<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Red-Black Trees</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 6'><circle cx='2' cy='2' r='2' fill='red'/><circle cx='4' cy='4' r='2' fill='black'/></svg>" type="image/svg+xml">
	<link href="styles/red-black-tree.css" rel="stylesheet"></link>
	<script src="scripts/red-black-tree.js" type="module"></script>
</head>
<body>
    <div class="top-bar">
        <a href=".." class="home-button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" width="24px" height="24px">
                <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
            </svg>
        </a>
        <button id="help">?</button>
        <input id="add-node-input" type="number" placeholder="Add Node"/>
        <button id="clear-tree">Clear</button>
        <label hidden>
            <input type="checkbox"/>
            Balance Factors
        </label>
        <label hidden>
            <input type="checkbox" checked/>
            Only insert if valid
        </label>
    </div>
    <div class="canvas-container">
		<canvas id="myCanvas"></canvas>
    </div>
	<ol class="info" id="info">
		<li id="rule-1">Root is always black.</li>
		<li id="rule-2">Red nodes can't have red children.</li>
		<li id="rule-3">Every path from root to leaf has the same number of black nodes.</li>
	</ol>
    <div id="overlay">
        <div id="new-node-value"></div>
        <div id="how-to">
            <h3 style="text-decoration: underline;">Adding a Node:</h3>
            <table style="border-spacing: 20px 0;">
                <tr>
                    <th>0-9</th>
                    <td>enter a value</td>    
                </tr>
                <tr>
                    <th>Enter</th>
                    <td>add the node</td>
                </tr>
                <tr>
                    <th>Escape</th>
                    <td>cancel</td>
                </tr>
              </table>
              <h3 style="text-decoration: underline;">Editing:</h3>
              <table style="border-spacing: 20px 0;">
                  <tr>
                      <td><b>Right Click</b> on 2 nodes to rotate</td>    
                  </tr>
                  <tr>
                      <td><b>Right Click</b> twice on a node to swap colors</td>
                  </tr>
                </table>
            <ul>
            </ul>
            <h3 style="text-decoration: underline;">Insertion Guide:</h3>
                <ol>
                    <li>
                        For every node on insertion path (top to bottom):
                        <ul>
                            <li>
                                If node has two <span class="red">RED</span> children then:
                            </li>
                            <ol>
                                <li>
                                    Color the children <span class="black">BLACK</span>
                                </li>
                                <li>
                                    Color the node <span class="red">RED</span> (unless it's the root)
                                </li>
                            </ol>
                        </ul>
                    </li>
                    <li>
                        Fix any (<span class="black">BLACK</span> → <span class="red">RED</span> → <span class="red">RED</span>) paths
                        <ul>
                            <li>
                                If you have a <span class="straight">straight</span> 3 nodes (all left children or all right children)
                            </li>
                            <ol>
                                <li>
                                    Rotate the top <span class="red">RED</span> node with it's <span class="black">BLACK</span> parent
                                </li>
                                <li>
                                    Swap their colorss
                                </li>
                            </ol>
                            <li>
                                If you have a <span class="kink">kink</span> (one is left child, one is right child)
                            </li>
                            <ol>
                                <li>
                                    Rotate the two <span class="red">RED</span>s to form a <span class="straight">straight</span>
                                </li>
                                <li>
                                    Fix the <span class="straight">straight</span>
                                </li>
                            </ol>
                        </ul>
                    </li>
                </ol>
            </summary>
        </div>
    </div>
</body>
</html>